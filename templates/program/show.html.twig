{% extends 'base.html.twig' %}

{% block title %}
	Wild Series
{% endblock %}

{% block body %}
	<div class="row row-cols-3 g-1 mt-5">
		<div class="card me-5">
			<img src="{{program.poster}}" alt="{{ program.title }} poster" class="card-img-top-fluid">
			<div class="card-body">
				<h5 class="card-title">{{ program.title }}</h5>
				<p class="card-text">{{ program.summary }}</p>
				<small class="text-muted">Catégorie :
					{{ program.category.name }}</small>
				<h5 class="mt-3">Acteurs</h5>
				<ul>
					{% for actor in program.actors %}
						<li><a href="{{ path('actor_show', {'id': actor.id}) }}">{{ actor.name }}</a></li>
					{% else %}
						<li>Aucun acteur pour cette série</li>
					{% endfor %}
				</ul>
			</div>
			<a id="watchlist" class="ms-4 p-2 text-end" href="{{ path('program_watchlist', {id: program.id})}}">
				<i class="bi {{ app.user.isInWatchlist(program) ? 'bi-heart-fill' : 'bi-heart' }}"></i>
			</a>
		</div>

		<div class="card">
			{% for season in seasons %}
				<div class="list-group list-group-flush">
					<h5 class="list-group-item">SAISON
						{{ season.number }}
						<p class="text-end">
							<a href="{{ path('program_season_show', { 'programSlug': program.slug , 'seasonId': season.id }) }}">Détail</a>
						</p>
					</h5>
				</div>
			{% endfor %}
			<div class="card-body">
				<a href="{{ path('program_index') }}" class="card-link">Retour à la liste des programmes</a>
			</div>
		</div>
	</div>
	<div class="btn-group mt-5">
	{% if is_granted("ROLE_ADMIN") %}
		<div>
			{{ include('program/_delete_form.html.twig') }}
		</div>
		<div class="ms-4 p-2 btn btn-outline-dark text-center">
    		<a href="{{ path('program_edit', { 'slug': program.slug} ) }}">Éditer</a>
		</div>
	{% endif %}
	</div>
{% endblock %}

